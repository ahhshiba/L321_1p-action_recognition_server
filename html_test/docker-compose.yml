services:
  web:
    image: nginx:1.25-alpine
    container_name: html_test_web
    restart: unless-stopped
    depends_on:
      - go2rtc
    ports:
      - "8080:80"
    volumes:
      - ./index.html:/usr/share/nginx/html/index.html:ro
      - ./nginx.conf:/etc/nginx/conf.d/default.conf:ro

  go2rtc:
    image: alexxit/go2rtc:latest
    container_name: html_test_go2rtc
    restart: unless-stopped
    ports:
      - "1984:1984"
      - "8554:8554"
      - "8555:8555/tcp"
      - "8555:8555/udp"
    volumes:
      - ../go2rtc-config.yaml:/config/go2rtc.yaml:ro
